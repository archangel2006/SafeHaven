<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Disaster Management Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_VALID_GOOGLE_MAPS_API_KEY&callback=initMap" async defer></script>

  <link rel="stylesheet" href="../assets/css/alertsRisks.css">
  <!-- Removed Leaflet libraries as they're no longer needed -->
  <style>
    
  </style>
</head>
<body>
  <header>
    <i class="fas fa-exclamation-triangle"></i> Disaster Management Dashboard
  </header>
  
  <!-- Tabs -->
  <div class="tab-bar">
    <div class="tab active" data-target="alerts"><i class="fas fa-bell"></i> Alerts</div>
    <div class="tab" data-target="risk"><i class="fas fa-chart-line"></i> Predictive Analytics</div>
    <div class="tab" data-target="map"><i class="fas fa-globe-asia"></i> Live Heatmap</div>
  </div>
  
  <!-- Tab Contents -->
  <div class="content-container">
    <!-- Alerts Tab -->
    <div class="tab-content active" id="alerts">
      <h2><i class="fas fa-bell"></i> Disaster Alerts</h2>
      <ul>
        <li><i class="fas fa-water"></i> <strong>Flood:</strong> Heavy rainfall causing flooding in Osaka.</li>
        <li><i class="fas fa-earthquake"></i> <strong>Earthquake:</strong> 6.2 magnitude earthquake detected near Tokyo.</li>
        <li><i class="fas fa-wind"></i> <strong>Typhoon:</strong> Typhoon approaching Okinawa, expected landfall in 24 hours.</li>
        <li><i class="fas fa-fire"></i> <strong>Wildfire:</strong> Forest fire spreading in Hokkaido due to dry conditions.</li>
        <li><i class="fas fa-mountain"></i> <strong>Volcanic Eruption:</strong> Increased activity detected at Mount Sakurajima.</li>
        <li><i class="fas fa-cloud"></i> <strong>Landslide:</strong> Heavy rains triggering landslides in Nagano.</li>
        <li><i class="fas fa-radiation"></i> <strong>Tsunami Warning:</strong> Tsunami alert issued along the Fukushima coast after undersea tremor.</li>
      </ul>
    </div>
    
    <!-- Predictive Analytics Tab -->
    <div class="tab-content" id="risk">
      <h2><i class="fas fa-chart-line"></i> Predictive Analytics</h2>
      
      <!-- Enlarged Chart.js Container -->
      <div class="chart-container">
        <canvas id="riskChart"></canvas>
      </div>
      
      <!-- Multiple Donut-Style Risk Meters in one row -->
      <div class="risk-meter-grid" id="riskMeterGrid">
        <!-- Meters will be appended here by JavaScript -->
      </div>
    </div>
    
    <!-- Live Heatmap Tab -->
    <div class="tab-content" id="map">
      <h2><i class="fas fa-globe-asia"></i> Live Disaster Heatmap</h2>
      <div class="map-container">
        <!-- Static heatmap image -->
        <img src="https://i.pinimg.com/736x/78/b9/aa/78b9aad2fd385126e7fa116ad5a33bd1.jpg" alt="Static Disaster Heatmap" width="600">
      </div>
      <div class="heatmap-details">
        <p>This static heatmap represents the current distribution of Flood risks.</p>
        <p>Data is updated periodically to reflect real-time conditions.</p>
      </div>
    </div>
  </div>
  
  <script>
    // JavaScript for interactive tabs and dynamic data insertion
    const tabs = document.querySelectorAll('.tab');
    const tabContents = document.querySelectorAll('.tab-content');
    const riskMeterGrid = document.getElementById('riskMeterGrid');
    
    tabs.forEach(tab => {
      tab.addEventListener('click', () => {
        tabs.forEach(t => t.classList.remove('active'));
        tab.classList.add('active');
        
        const target = tab.getAttribute('data-target');
        tabContents.forEach(content => {
          content.classList.remove('active');
          if (content.id === target) {
            content.classList.add('active');
          }
        });
      });
    });
  
    // Function to dynamically insert disaster information into risk meters
    function createRiskMeter(disasterName, riskValue, color) {
      const meterContainer = document.createElement('div');
      meterContainer.classList.add('single-risk-meter');
  
      const meter = document.createElement('div');
      meter.classList.add('risk-meter');
      meter.style.background = `conic-gradient(${color} ${riskValue * 3.6}deg, #eee 0deg)`;
  
      const meterLabel = document.createElement('div');
      meterLabel.classList.add('center-label');
      meterLabel.innerHTML = `${riskValue}%`;
  
      const meterDetails = document.createElement('p');
      meterDetails.classList.add('disaster-name');
      meterDetails.innerHTML = disasterName;
  
      meterContainer.append(meter, meterLabel, meterDetails);
      riskMeterGrid.appendChild(meterContainer);
    }
  
    // Simulate Risk Meter Data
    createRiskMeter('Flood', 80, 'red');
    createRiskMeter('Earthquake', 40, 'yellow');
    createRiskMeter('Wildfire', 90, 'orange');
    createRiskMeter('Typhoon', 75, 'blue');
    
    // Initialize Chart.js (line chart)
    const ctx = document.getElementById('riskChart').getContext('2d');
    const riskChart = new Chart(ctx, {
      type: 'line',
      data: {
        labels: ['January', 'February', 'March', 'April', 'May', 'June'],
        datasets: [{
          label: 'Flood Risk (%)',
          data: [80, 85, 78, 90, 75, 80],
          borderColor: 'red',
          backgroundColor: 'rgba(255, 0, 0, 0.2)',
          fill: true
        }, {
          label: 'Earthquake Risk (%)',
          data: [40, 45, 50, 48, 40, 42],
          borderColor: 'yellow',
          backgroundColor: 'rgba(255, 255, 0, 0.2)',
          fill: true
        }, {
          label: 'Typhoon Risk (%)',
          data: [75, 70, 80, 85, 72, 75],
          borderColor: 'blue',
          backgroundColor: 'rgba(0, 0, 255, 0.2)',
          fill: true
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: {
            position: 'top'
          }
        },
        scales: {
          y: {
            beginAtZero: true,
            max: 100
          }
        }
      }
    });
    
  </script>
  <script src="../8.AIAssistant/chatbot.js"></script>
</body>
</html>
